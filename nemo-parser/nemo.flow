import runtime;
import maybe;
import nemoprog;

testNemoParser(s: string) -> Prog{
    example = getFileContent(s);
    println("\n   parsing:");
    println(example);
    p1 = parse(example);
    p1sure = either(p1, Prog([], nTest(Int(0))) );
    println("   raw Prog:");
    println(p1sure);
    // println("   prog2s(Prog):");
    // println(prog2s(p1sure));
    p1sure;
}

main(){
    testNemoParser("./test/example.txt");
    testNemoParser("./test/type.txt");
    testNemoParser("./test/union.txt");
    testNemoParser("./test/long.txt");
}